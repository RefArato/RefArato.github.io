<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>虚構幻想</title>

  <style>
    :root{
      --bg:#000;
      --fg:#eaf2ff;
      --muted:rgba(234,242,255,.70);
      --line:rgba(234,242,255,.18);

      --menu:#a8e3df;
      --accent:#4fc3ff;
      --accent2:#a7e7ff;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      background:
        radial-gradient(900px 500px at 50% 20%, rgba(79,195,255,.10), transparent 60%),
        radial-gradient(900px 600px at 50% 120%, rgba(79,195,255,.06), transparent 60%),
        var(--bg);
      color:var(--fg);
      font-family: ui-sans-serif, system-ui, -apple-system, "Hiragino Sans", "Noto Sans JP", sans-serif;
      overflow:hidden;
    }

    #dust{
      position:fixed;
      inset:0;
      width:100%;
      height:100%;
      z-index:-1;
      pointer-events:none;
    }

    .wrap{
      min-height:100%;
      display:flex;
      flex-direction:column;
      align-items:center;
    }

    .title-area{
      width:min(980px, 92vw);
      text-align:center;
      margin-top: clamp(42px, 8vh, 80px);
    }

    .title{
      font-size: clamp(44px, 8vw, 86px);
      letter-spacing: .22em;
      font-weight: 300;
      color: rgba(234,242,255,.95);
      text-shadow:
        0 0 10px rgba(167,231,255,.12),
        0 0 26px rgba(79,195,255,.12);
      margin:0;
    }

    .title-line{
      width:min(640px, 74vw);
      height:1px;
      margin: 16px auto 0;
      background: linear-gradient(90deg, transparent, var(--line), transparent);
    }

    .menu{
      margin-top: clamp(40px, 10vh, 90px);
      display:flex;
      flex-direction:column;
      gap: 18px;
      align-items:center;
      user-select:none;
    }

    .menu-item{
      position:relative;
      padding: 6px 18px;
      font-size: 22px;
      letter-spacing: .12em;
      background: transparent;
      border: 0;
      cursor: pointer;
      -webkit-tap-highlight-color: transparent;
      white-space: nowrap;
      min-width: 14ch;
      text-align: center;
    }

    .menu-item .label{
      position:relative;
      display:block;
      height:1.2em;
      line-height:1.2em;
      color: transparent;
      transform: translateZ(0);
    }

    .menu-item .label::after{
      content: attr(data-display-text);
      position:absolute;
      top:0;
      left:50%;
      transform: translateX(-50%);
      color: var(--menu);
      text-shadow: 0 0 18px rgba(0,0,0,.35);
      pointer-events:none;
    }

    .menu-item .label::before{
      content: attr(data-glitch-text);
      position:absolute;
      top:0;
      left:50%;
      transform: translateX(-50%);
      opacity:0;
      color: var(--accent2);
      mix-blend-mode: screen;
      filter: blur(.2px);
      pointer-events:none;
    }

    .menu-item.is-alt .label::after{
      color: var(--accent);
    }

    .menu-item.is-glitch .label::before{
      opacity:1;
      animation: glitchJitter 120ms steps(2,end) infinite;
    }

    .menu-item.is-glitch .label{
      animation: baseShake 90ms steps(2,end) infinite;
    }

    @keyframes glitchJitter{
      0%{ transform: translateX(-50%) translate(0,0); }
      50%{ transform: translateX(-50%) translate(2px,-1px); }
      100%{ transform: translateX(-50%) translate(0,0); }
    }

    @keyframes baseShake{
      0%{ transform: translate(0,0); }
      50%{ transform: translate(-1px,1px); }
      100%{ transform: translate(0,0); }
    }

    .hint{
      position:fixed;
      bottom:22px;
      left:50%;
      transform: translateX(-50%);
      color: rgba(234,242,255,.30);
      font-size:12px;
      letter-spacing:.18em;
      pointer-events:none;
    }
  </style>
</head>

<body>
<canvas id="dust"></canvas>

<div class="wrap">
  <div class="title-area">
    <h1 class="title">虚構幻想</h1>
    <div class="title-line"></div>
  </div>

  <div class="menu">
    <button class="menu-item" data-original="はじめから" data-alt="- WEB TOP -"><span class="label" data-display-text="はじめから"></span></button>
    <button class="menu-item" data-original="作品紹介" data-alt="- WORKS -"><span class="label" data-display-text="作品紹介"></span></button>
    <button class="menu-item" data-original="ギャラリー" data-alt="- GALLERY -"><span class="label" data-display-text="ギャラリー"></span></button>
    <button class="menu-item" data-original="メンバー" data-alt="- MEMBERS -"><span class="label" data-display-text="メンバー"></span></button>
    <button class="menu-item" data-original="依頼" data-alt="- CONTACT -"><span class="label" data-display-text="依頼"></span></button>
  </div>
</div>

<div class="hint">MOVE CURSOR</div>

<script>
/* メニュー・グリッチ */
(() => {
  const letters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
  document.querySelectorAll(".menu-item").forEach(btn=>{
    const label=btn.querySelector(".label");
    const {original,alt}=btn.dataset;

    function glitch(t){
      const start=performance.now(),len=t.length;
      (function f(n){
        const p=Math.min(1,(n-start)/200);
        label.dataset.glitchText=[...t].map((c,i)=>i<p*len?c:letters[Math.random()*letters.length|0]).join("");
        p<1?requestAnimationFrame(f):label.dataset.glitchText="";
      })(start);
    }

    btn.addEventListener("mouseenter",()=>{
      btn.classList.add("is-alt","is-glitch");
      label.dataset.displayText=alt;
      glitch(alt);
      setTimeout(()=>btn.classList.remove("is-glitch"),260);
    });

    btn.addEventListener("mouseleave",()=>{
      btn.classList.remove("is-alt","is-glitch");
      label.dataset.displayText=original;
      label.dataset.glitchText="";
    });
  });
})();
</script>

<script>
/* ドット調・浮遊パーティクル（軌跡なし） */
(() => {
  const c=document.getElementById("dust");
  const x=c.getContext("2d");
  const DPR=Math.min(2,devicePixelRatio||1);
  let W,H;

  function resize(){
    W=innerWidth;H=innerHeight;
    c.width=W*DPR;c.height=H*DPR;
    c.style.width=W+"px";c.style.height=H+"px";
    x.setTransform(DPR,0,0,DPR,0,0);
  }
  addEventListener("resize",resize);resize();

  const rand=(a,b)=>a+Math.random()*(b-a);
  const count=Math.max(28,Math.min(60,(W*H)/28000|0));

  const ps=[...Array(count)].map(()=>{
    const d=rand(0,Math.PI*2);
    return{
      x:rand(0,W),y:rand(0,H),
      s:rand(5.0,5.0),
      vx:Math.cos(d)*rand(.05,.2),
      vy:Math.sin(d)*rand(.05,.2),
      a:rand(.1,.26),ph:rand(0,Math.PI*2),
      tw:rand(.004,.012),dir:d,drift:rand(.6,1.6)
    };
  });

  const MAX=.1,TURN=.02,WANDER=.018,DRAG=.992;

  function step(){
    x.clearRect(0,0,W,H);
    for(const p of ps){
      p.ph+=p.tw;
      const alpha=p.a+Math.sin(p.ph)*0.5;
      p.dir+=(Math.sin(p.ph*p.drift)+(Math.random()-.05))*WANDER;
      p.vx+=(Math.cos(p.dir)*MAX-p.vx)*TURN;
      p.vy+=(Math.sin(p.dir)*MAX-p.vy)*TURN;
      p.vx*=DRAG;p.vy*=DRAG;
      p.x+=p.vx;p.y+=p.vy;

      if(p.x<-20)p.x=W+20;if(p.x>W+20)p.x=-20;
      if(p.y<-20)p.y=H+20;if(p.y>H+20)p.y=-20;

      x.fillStyle=`rgba(150,230,255,${alpha})`;
      x.fillRect(p.x-p.s/2,p.y-p.s/2,p.s,p.s);
    }
    requestAnimationFrame(step);
  }
  step();
})();
</script>

</body>
</html>

